!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Spork={})}(this,(function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,n,r,i,a,s){try{var o=e[a](s),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var s=e.apply(t,r);function o(e){n(s,i,a,o,u,"next",e)}function u(e){n(s,i,a,o,u,"throw",e)}o(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function o(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function u(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var c,l,h=function(e,t){var n;switch(t){case"h":case"hr":case"hrs":case"hour":case"hours":n=36e5;break;case"m":case"min":case"mins":case"minute":case"minutes":n=6e4;break;case"s":case"sec":case"secs":case"second":case"seconds":n=1e3;break;default:n=1}return Number(e)*n},f=new WeakMap,p=new WeakMap,v=new WeakMap,b=new WeakMap,m=new WeakMap,w=new WeakMap,y=function(){function e(t,n,r){var a=this;i(this,e),f.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:function(){u(a,f,null),u(a,b,!1),a.startTime=null}}),w.set(this,{writable:!0,value:h}),o(this,m).call(this),this.setCallback(t),this.setTime(n,r)}return s(e,[{key:"start",value:function(){return!o(this,b)&&(this.startTime=Date.now(),u(this,f,setTimeout(o(this,v).bind(this),o(this,p))),u(this,b,!0),!0)}},{key:"cancel",value:function(){return!!o(this,b)&&(clearTimeout(o(this,f)),o(this,m).call(this),!0)}},{key:"setTime",value:function(e,t){if(isNaN(Number(e)))throw new TypeError("timerLength must be numerical");return!o(this,b)&&(u(this,p,o(this,w).call(this,e,t||"ms")),!0)}},{key:"setCallback",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError("callback must be a function");return!o(this,b)&&(u(this,v,(function(){return o(t,m).call(t),e()})),!0)}},{key:"running",get:function(){return o(this,b)}}]),e}(),d=new WeakMap,k=new WeakMap,N=new WeakMap,T=new WeakMap,g=new WeakMap,M=new WeakMap,x=function(){function e(t,n,r){var a=this;i(this,e),d.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),N.set(this,{writable:!0,value:void 0}),T.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:function(){u(a,d,null),u(a,T,!1),a.startTime=null}}),M.set(this,{writable:!0,value:h}),o(this,g).call(this),this.setCallback(t),this.setTime(n,r)}return s(e,[{key:"start",value:function(){return!o(this,T)&&(this.startTime=Date.now(),u(this,d,setInterval(o(this,N).bind(this),o(this,k))),u(this,T,!0),!0)}},{key:"stop",value:function(){return!!o(this,T)&&(clearInterval(o(this,d)),o(this,g).call(this),!0)}},{key:"setTime",value:function(e,t){if(isNaN(Number(e)))throw new TypeError("intervalLength must be numerical");return!o(this,T)&&(u(this,k,o(this,M).call(this,e,t||"ms")),!0)}},{key:"setCallback",value:function(e){if("function"!=typeof e)throw new TypeError("callback must be a function");return!o(this,T)&&(u(this,N,e),!0)}},{key:"running",get:function(){return o(this,T)}}]),e}();function W(){return(W=r(regeneratorRuntime.mark((function e(n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"forceReload"!==r){e.next=7;break}return e.next=4,fetch(n,l);case 4:i=e.sent,e.next=16;break;case 7:if("object"!==t(r)){e.next=13;break}return e.next=10,fetch(n,r);case 10:i=e.sent,e.next=16;break;case 13:return e.next=15,fetch(n);case 15:i=e.sent;case 16:return e.next=18,i.json();case 18:return e.abrupt("return",e.sent);case 21:return e.prev=21,e.t0=e.catch(0),console.error("Error while fetching: ".concat(e.t0)),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}(c=new Headers).append("pragma","no-cache"),c.append("cache-control","no-cache"),l={method:"GET",headers:c},e.clamp=function(e,t,n){return!(isNaN(e)||isNaN(t)||isNaN(n))&&(t>e?t:n<e?n:e)},e.fetchJson=function(e,t){return W.apply(this,arguments)},e.interval=x,e.range=function(e,t,n,r){if(isNaN(e))return!1;if(isNaN(t)&&(t=e,e=0),t<e){var i=[e,t];t=i[0],e=i[1]}isNaN(n)&&(n=1);var a=(t-e)/n;return isNaN(r)||(a=Math.min(a,r)),Array(0|a).fill(0).map((function(t,r){return r*n+e}))},e.timeout=y,Object.defineProperty(e,"__esModule",{value:!0})}));
